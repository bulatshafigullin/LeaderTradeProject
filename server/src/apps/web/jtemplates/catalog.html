{% extends "pub.html" %}
{% block main %}
<ul class="breadcrumbs">
	<div class="container row">
		<li>Главная</li>
		<li><svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M6.25026 8.29995L3.53359 5.58328C3.21276 5.26245 3.21276 4.73745 3.53359 4.41662L6.25026 1.69995" stroke="#B3B7BC" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
			</svg>
		</li>
		<li><a href="">Каталог</a></li>
	</div>
</ul>

<section class="catalog">
	<div class="container">
		<h2>{{title}}</h2>
		<div class="catalog__row row items">
			<div class="catalog__mobile">
				<select class="select catalog-input">
					<option value="Сначала рекомендуемые">Сначала рекомендуемые</option>
					<option value="Имя">Имя</option>
				</select>
				<a href="" class="catalog__sizes__btn">
					Фильтры
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M18.3334 5.41663H13.3334" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
							stroke-linecap="round" stroke-linejoin="round"></path>
						<path d="M4.99996 5.41663H1.66663" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
							stroke-linecap="round" stroke-linejoin="round"></path>
						<path
							d="M8.33329 8.33333C9.94412 8.33333 11.25 7.0275 11.25 5.41667C11.25 3.80584 9.94412 2.5 8.33329 2.5C6.72246 2.5 5.41663 3.80584 5.41663 5.41667C5.41663 7.0275 6.72246 8.33333 8.33329 8.33333Z"
							stroke="#243228" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
							stroke-linejoin="round"></path>
						<path d="M18.3333 14.5834H15" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
							stroke-linecap="round" stroke-linejoin="round"></path>
						<path d="M6.66663 14.5834H1.66663" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
							stroke-linecap="round" stroke-linejoin="round"></path>
						<path
							d="M11.6667 17.5C13.2775 17.5 14.5833 16.1941 14.5833 14.5833C14.5833 12.9725 13.2775 11.6666 11.6667 11.6666C10.0558 11.6666 8.75 12.9725 8.75 14.5833C8.75 16.1941 10.0558 17.5 11.6667 17.5Z"
							stroke="#243228" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
							stroke-linejoin="round"></path>
					</svg>
				</a>
			</div>
			<form id='decl-filter' ts-req="" method="GET" action="{% if slug == 'rims' %}/diski/{% elif slug == 'tires' %}/shiny/{% endif %}" ts-trigger="submit, change" ts-target='.js-products' class="catalog__left">
				<input type="hidden" id="js-rim-type" name="rim_type" value="">
				<div class="catalog__left__block">
					<select class="select catalog-input">
						<option value="Рекомендации">Рекомендации</option>
						<option value="Имя">Имя</option>
					</select>
				</div>
				<div class="catalog__left__block">
					<div class="catalog__left__title">
						Размеры
					</div>
					{% for name, decl in decl_filter_of_types.items() %}
					<div class="catalog__sizes">
						<div class="catalog__sizes__name">
							{{decl.title}}
						</div>
						<select name="{{name}}" class="select catalog-input">
							<option value="">Все</option>
							{% for val in decl.vals %}
							<option value="{{val.id}}">{{val.title}}</option>
							{% endfor %}
						</select>
					</div>
					{% endfor %}
					<a href="" class="catalog__sizes__btn">
						Подобрать по авто
						<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M18.3334 5.41663H13.3334" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
								stroke-linecap="round" stroke-linejoin="round" />
							<path d="M4.99996 5.41663H1.66663" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
								stroke-linecap="round" stroke-linejoin="round" />
							<path
								d="M8.33329 8.33333C9.94412 8.33333 11.25 7.0275 11.25 5.41667C11.25 3.80584 9.94412 2.5 8.33329 2.5C6.72246 2.5 5.41663 3.80584 5.41663 5.41667C5.41663 7.0275 6.72246 8.33333 8.33329 8.33333Z"
								stroke="#243228" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
								stroke-linejoin="round" />
							<path d="M18.3333 14.5834H15" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
								stroke-linecap="round" stroke-linejoin="round" />
							<path d="M6.66663 14.5834H1.66663" stroke="#243228" stroke-width="1.5" stroke-miterlimit="10"
								stroke-linecap="round" stroke-linejoin="round" />
							<path
								d="M11.6667 17.5C13.2775 17.5 14.5833 16.1941 14.5833 14.5833C14.5833 12.9725 13.2775 11.6666 11.6667 11.6666C10.0558 11.6666 8.75 12.9725 8.75 14.5833C8.75 16.1941 10.0558 17.5 11.6667 17.5Z"
								stroke="#243228" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
								stroke-linejoin="round" />
						</svg>
					</a>
				</div>
				{% for name, decl in decl_filter_common.items() %}
				<div class="catalog__left__block">
					<div class="catalog__left__title">
						{{ decl.title }}
					</div>
					{% if decl.type == 'range' %}
					<div class="catalog__left__range row">
						<div class="catalog__left__range__from">
							от <input type="text" id="fromRange" name="price_min" data-from="{{decl.vals[0]}}" value="{{decl.vals[0]}}">
							<span>₽</span>
						</div>
						<div class="catalog__left__range__to">
							до <input type="text" id="toRange" name="price_max" data-to="{{decl.vals[1]}}" value="{{decl.vals[1]}}">
							<span>₽</span>
						</div>
					</div>
					<div id="slider"></div>
					{% endif %}
					{% if decl.type == 'checkbox' %}
					<div class="catalog__search">
						<input type="text" placeholder="поиск">
						<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M6.34375 10.9375C8.88081 10.9375 10.9375 8.88081 10.9375 6.34375C10.9375 3.80669 8.88081 1.75 6.34375 1.75C3.80669 1.75 1.75 3.80669 1.75 6.34375C1.75 8.88081 3.80669 10.9375 6.34375 10.9375Z"
								stroke="#243228" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
							<path d="M9.5918 9.59216L12.2496 12.25" stroke="#243228" stroke-width="1.5" stroke-linecap="round"
								stroke-linejoin="round" />
						</svg>
					</div>
					<div class="catalog__checkboxes">
						{% for v in decl.vals %}
						<label class="catalog__check checkbox">
							<span>{{v.title}}</span>
							<input type="checkbox" name="{{name}}" value="{{v.id}}">
							{% if v.count %}
							    <div class="catalog__check__num">
								{{ v.count }}
								</div>
							{% endif %}
						</label>
						{% endfor %}
					</div>
					<div class="catalog__moar">Показать все</div>
					{% endif %}
				</div>
				{% endfor %}
			</form>
			<div class="catalog__right">
				{% if decl_product_types %}
				<div class="catalog__right__top row">
					{% for decl_slug, decl in decl_product_types.items() %}
					<a href="/catalog/{{slug}}/{{decl_slug}}" ts-trigger='click' ts-action="attr value {{decl_slug}}; fire submit #decl-filter" ts-target="#js-rim-type" class="catalog__right__selector row">
						<span>{{decl.title}} диски</span>
						<div class="catalog__right__num">{{decl.count}}</div>
					</a>
					{% endfor %}
				</div>
				{% endif %}
				{% include "spark/catalog.html" %}
			</div>
		</div>
	</div>
</section>


{% endblock main %}


{% block js %}
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"
	integrity="sha512-UOJe4paV6hYWBnS0c9GnIRH8PLm2nFK22uhfAvsTIqd3uwnWsVri1OPn5fJYdLtGY3wB11LGHJ4yPU1WFJeBYQ=="
	crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock js %}